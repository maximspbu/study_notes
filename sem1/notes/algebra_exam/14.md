# 14. Функция Эйлера и её мультипликативность.

### *Определение. Функция Эйлера.*
Функция Эйлера $-$ $\varphi(x)$  функция возвращающая количество чисел взаимно простых с $x$ и меньших $x$.

### *Замечание.*
Если $p~-~$простое число, то $\varphi(p)=p-1$.
Если $p~-~$простое число, то $\varphi(p^k)= p^k - p^{k-1}$, так как $p^k$ не взаимно просто со всем, что делится на $p$, но таких чисел ровно $p^{k-1}$ (каждое $p$-тое число из промежутка).

### *Теорема. Мультипликативность функции Эйлера.*
Если $НОД(m,n)=1$, то $\varphi(mn)=\varphi(m)\cdot \varphi(n)$.

### План доказательства.

### $1.$ Поймем что $\varphi(a) = |ПрСВ(a)|$
$2.$ Докажем, что каждому каждому классу $\overline{a} \pmod {mn}$ биективно соответствует пара классов $(\overline{b}\pmod m, \overline{c}\pmod n)$
$3.$ Докажем, что похожую биекцию можно построить, но для приведенных систем вычетов.

### Доказательство:
$1)$ Поймем что $\varphi(a) = |ПрСВ(a)|$.
Это ясно из определения $ПрСВ(a)$. 
Мы берем множество остатков, которые взаимно просты с $a$, а функция Эйлера как раз-таки вычисляет их количество.$\varphi(a) = |ПрСВ(a)|$$2)$ Докажем, что каждому каждому классу $\overline{a} \pmod {mn}$ биективно соответствует пара классов $(\overline{b}\pmod m, \overline{c}\pmod n)$.
Рассмотрим отображение: $\Z/_{mn\Z} \rightarrow \Z/_{m\Z} \times \Z/_{n\Z}$.
Слева имеем остатки по модулю $mn$, а справа пары из остатков по модулю $m$ и по модулю $n$, причём $|\Z/_{mn\Z}| = |\Z/_{m\Z} \times \Z/_{n\Z}|$, то есть $mn=m\cdot n$, где $m\cdot n~-~$количество способов составить пару $(\overline{a},\overline{b})$ при $\overline{a}\in0:(m-1)$ и $\overline{b}\in 0:(n-1)$.
Если докажем инъективность, то сюръективность получим бонусом, поскольку она будет следовать из равенства мощностей данных множеств, а значит получим биекцию.
Предположим, что $\exist \overline{a}\not\equiv_{mn}\overline{b}: \overline{a}\equiv_m \overline{b}$ и $\overline{a}\equiv_n \overline{b}$, то есть два разных остатка по модулю $mn$ переходят в одни и те же по модулю $m$ и по модулю $n$.
Вспомним свойство $8)$ сравнений, говорящее о том, что если $a \equiv_m b$ и $a \equiv_n b$ при $НОД(m,n)=1$, то $a\equiv_{mn}b$, но тогда получаем противоречие, ведь $\overline{a}\not\equiv_{mn}\overline{b}$ по предположению.
Следовательно, отображение инъективно, а значит биективно.

$3)$ Теперь можем доказать, что мощности равны и в том случае, если вместо $ПСВ$ поставить $ПрСВ$.
$(\Z/_{mn\Z})^* \rightarrow (\Z/_{m\Z})^* \times (\Z/_{n\Z})^*$, где $()^*~-~ПрСВ$.
Возьмем произвольное $\overline{a} \in (\Z/_{mn\Z})^*$. Тогда по определению $ПрСВ$:$НОД(\overline{a}, mn)=1 \Rarr НОД(\overline{a},m)=НОД(\overline{a},n)=1$.
Значит $\overline{a} \in (\Z/_{m\Z})^*$ и $\overline{a} \in (\Z/_{n\Z})^*$, то есть для каждого $\overline{a}\in(\Z/_{mn\Z})^*$ найдётся пара $\overline{b},\overline{c}$, где $\overline{b}\in(\Z/_{m\Z})^*$ и $\overline{c}\in(\Z/_{n\Z})^*$.

### Примечание.
$НОД(\overline{a}, mn)=1\Harr \alpha \overline{a} +\beta mn=1\Rarr\alpha \overline{a}+(\beta m)n=1$.
Тогда $\alpha \overline{a} + \gamma n = 1\Rarr НОД(\overline{a},n)=1$ по свойству $4)$ взаимнопростых чисел.
Аналогично для $НОД(\overline{a},m)=1$.

### Проверим, что наоборот тоже верно.
Возьмем $\overline{b} \in (\Z/_{m\Z})^*$ и $\overline{c} \in (\Z/_{n\Z})^*\Rarr НОД(\overline{b}, m)=НОД(\overline{c},n)=1$.
Для таких $\overline{b},\overline{c}$ ввиду биекции существует $\overline{a}\in\Z/_{mn\Z}~-~ПСВ$.
Другими словами: $\overline{a}\equiv_m \overline{b}$ и $\overline{a}\equiv_n \overline{c}$ $(*)$. 
Докажем, что $НОД(\overline{a},mn)=1$. Из $(*)$ имеем систему:
$\begin{cases} (\overline{a}-\overline{b})~\raisebox{-2pt}{$\vdots$}~m \\ (\overline{a}-\overline{с})~\raisebox{-2pt}{$\vdots$}~n \end{cases}$.
Предположим $\overline{a}$ и $m$ имеют общий делитель $d≠1$.
$\overline{a} = (\overline{a}-\overline{b})+\overline{b} \Rarr \overline{a} = km + \overline{b} \Rarr \overline{b}~\raisebox{-2pt}{$\vdots$}~d$
Получаем противоречие с тем, что $НОД(\overline{b},m)=1\Rarr НОД(\overline{a},m)=1$.
Аналогично получим, что $НОД(\overline{a},n)=1\RarrНОД(\overline{a},mn)=1$.
Тогда $\overline{a}\in(\Z/_{mn\Z})^*$, а значит каждой паре также соответствует элемент из $ПрСВ(mn)$, то есть $|(\Z/{mn\Z})^*| = |(\Z/{m\Z})^* \times (\Z/_{n\Z})^*|$.

### Примечание.
$\begin{cases}
НОД(a,m)=1
\\
НОД(a,n)=1
\end{cases}\Rarr
\begin{cases}
v_1a+u_1m=1
\\
v_2a+u_2n=1
\end{cases}$
Перемножим уравнения:
$v_1v_2a^2+v_1u_2an+v_2u_1am+u_1u_2mn=1$
То есть $(v_1v_2a+v_1u_2n+v_2u_1m)a+u_1u_2(mn)=1$
Делаем замены коэффициентов и получаем, что:
$va+u(mn)=1\RarrНОД(a,mn)=1$.

### Мы знаем, что $|ПрСВ(x)|=\varphi(x)$ по $1)$.
Тогда $|(\Z/_{m\Z})^*|=\varphi(m)$, $(\Z/{n\Z})^*=\varphi(n)$, а $(\Z/{mn\Z})^*=\varphi(mn)$.
$(\Z/_{m\Z})^* \times (\Z/_{n\Z})^*~-~$всевозможные пар элементов.
Значит $|(\Z/_{m\Z})^* \times (\Z/_{n\Z})^*|=\varphi(m)\cdot\varphi(n)$.
По $3)$ имеем: $|(\Z/_{mn\Z})^*| = |(\Z/_{m\Z})^* \times (\Z/_{n\Z})^*|$
Тогда получаем: $\varphi(mn)=\varphi(m)\varphi(n)$ при $НОД(m,n)=1~~\scriptsize\blacksquare$